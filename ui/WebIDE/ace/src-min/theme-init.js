!function(e,t,n){"use strict";var o,r="object"==typeof module&&module.exports,i="function"==typeof define&&define.amd;r?module.exports=(module.$deps=module.$deps||{})[t]=module.$deps[t]||n.call(e,{NODE:module})||1:i&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(t)?define(t,["require","exports","module"],function(t,o,r){return n.call(e,{AMD:r})}):t in e||(e[t]=o=n.call(e,{})||1)&&i&&define(t,[],function(){return o})}(this,"AceGrammar",function(e){"use strict";function t(e){var t=0;return null===e?t=bt:!0===e||!1===e||e instanceof Boolean?t=wt:rt===e?t=kt:(t=Tt[ct.call(e)]||gt,t=yt===t||e instanceof Number?isNaN(e)?vt:isFinite(e)?yt:$t:xt===t||e instanceof String?1===e.length?_t:xt:Et===t||e instanceof Array?Et:Rt===t||e instanceof RegExp?Rt:At===t||e instanceof Date?At:Ot===t||e instanceof Function?Ot:St===t?St:gt),t}function n(e,t,n,o){var r,i,l,s,a,c,u=e.length;if(arguments.length<4&&(o=u-1),0>o&&(o+=u),arguments.length<3&&(n=0),n>o)return[];if(n===o)return[t(e[n],n,n,o)];for(l=o-n+1,s=15&l,a=1&s,c=new Array(l),a&&(c[0]=t(e[n],n,n,o)),r=a;s>r;r+=2)i=n+r,c[r]=t(e[i],i,n,o),c[r+1]=t(e[i+1],i+1,n,o);for(r=s;l>r;r+=16)i=n+r,c[r]=t(e[i],i,n,o),c[r+1]=t(e[i+1],i+1,n,o),c[r+2]=t(e[i+2],i+2,n,o),c[r+3]=t(e[i+3],i+3,n,o),c[r+4]=t(e[i+4],i+4,n,o),c[r+5]=t(e[i+5],i+5,n,o),c[r+6]=t(e[i+6],i+6,n,o),c[r+7]=t(e[i+7],i+7,n,o),c[r+8]=t(e[i+8],i+8,n,o),c[r+9]=t(e[i+9],i+9,n,o),c[r+10]=t(e[i+10],i+10,n,o),c[r+11]=t(e[i+11],i+11,n,o),c[r+12]=t(e[i+12],i+12,n,o),c[r+13]=t(e[i+13],i+13,n,o),c[r+14]=t(e[i+14],i+14,n,o),c[r+15]=t(e[i+15],i+15,n,o);return c}function o(e,t,n,o,r){var i,l,s,a,c,u=e.length,p=n;if(arguments.length<5&&(r=u-1),0>r&&(r+=u),arguments.length<4&&(o=0),o>r)return p;if(o===r)return t(p,e[o],o);for(s=r-o+1,a=15&s,c=1&a,c&&(p=t(p,e[o],o)),i=c;a>i;i+=2)l=o+i,p=t(t(p,e[l],l),e[l+1],l+1);for(i=a;s>i;i+=16)l=o+i,p=t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(p,e[l],l),e[l+1],l+1),e[l+2],l+2),e[l+3],l+3),e[l+4],l+4),e[l+5],l+5),e[l+6],l+6),e[l+7],l+7),e[l+8],l+8),e[l+9],l+9),e[l+10],l+10),e[l+11],l+11),e[l+12],l+12),e[l+13],l+13),e[l+14],l+14),e[l+15],l+15);return p}function r(e,t,n,o){if(t>n)return o;if(t===n)return e(t,o,t,n),o;var r,i,l=n-t+1,s=15&l,a=1&s;for(a&&e(t,o,t,n),r=a;s>r;r+=2)i=t+r,e(i,o,t,n),e(++i,o,t,n);for(r=s;l>r;r+=16)i=t+r,e(i,o,t,n),e(++i,o,t,n),e(++i,o,t,n),e(++i,o,t,n),e(++i,o,t,n),e(++i,o,t,n),e(++i,o,t,n),e(++i,o,t,n),e(++i,o,t,n),e(++i,o,t,n),e(++i,o,t,n),e(++i,o,t,n),e(++i,o,t,n),e(++i,o,t,n),e(++i,o,t,n),e(++i,o,t,n);return o}function i(e,n){var o,r,l,s,a=t(e),c=0;if(yt===t(n)?n>0?(c=n,n=!0):n=!1:n=!1!==n,St===a){r={};for(l in e)e[lt](l)&&e[st](l)&&(o=t(e[l]),St===o?r[l]=n?i(e[l],c>0?c-1:n):e[l]:Et===o?r[l]=n?i(e[l],c>0?c-1:n):e[l].slice():At===o?r[l]=new Date(e[l]):xt&o?r[l]=e[l].slice():yt&o?r[l]=0+e[l]:r[l]=e[l])}else if(Et===a)for(s=e.length,r=new Array(s),l=0;s>l;l++)o=t(e[l]),St===o?r[l]=n?i(e[l],c>0?c-1:n):e[l]:Et===o?r[l]=n?i(e[l],c>0?c-1:n):e[l].slice():At===o?r[l]=new Date(e[l]):xt&o?r[l]=e[l].slice():yt&o?r[l]=0+e[l]:r[l]=e[l];else r=At===a?new Date(e):xt&a?e.slice():yt&a?0+e:e;return r}function l(){var e,n,o,r,s,a,c,u,p,f,m=arguments,d=m.length;if(1>d)return null;for(n=i(m[0]),o=1;d>o;o++)if(e=m[o])for(r in e)if(e[lt](r)&&e[st](r))if(n[lt](r)&&n[st](r)){if(p=t(n[r]),f=t(e[r]),St===p&&St===f)n[r]=l(n[r],e[r]);else if(Et===p&&Et===f){if(c=n[r],u=e[r],a=u.length,!a)continue;if(c.length)for(s=0;a>s;s++)0>c.indexOf(u[s])&&c.push(u[s]);else n[r]=u.slice()}}else n[r]=i(e[r]);return n}function s(){return!0}function a(e,n){return n||Et!==t(e)?[e]:e}function c(e,n){return e=a(e),(n||Et!==t(e[0]))&&(e=[e]),e}function u(e,n){return xt&t(n)&&xt&t(e)&&n.length&&n.length<=e.length&&n===e.substr(0,n.length)}function p(e,t,n){return t<e.length?e.splice(t,0,n):e.push(n),e}function f(e,t){var n=0,o=e.length;if(!0===t)e.length=0;else if(t){for(;o>n&&e[o-n-1].$id===t;)n++;n&&(e.length=o-n)}return e}function m(e,t,n){return n?e[t]=rt:delete e[t],e}function d(e){return(e||"id_")+ ++Pt}function h(e){return(e||"uuid")+"_"+ ++Pt+"_"+(new Date).getTime()}function g(){var e,n,o,r,i,l,s=arguments,a=s.length;for(e=s[0]||{},i=1;a>i;i++)if(n=s[i],St===t(n))for(r in n)n[lt](r)&&n[st](r)&&(o=n[r],l=t(o),yt&l?e[r]=0+o:At&l?e[r]=new Date(o):Lt&l?e[r]=o.slice():e[r]=o);return e}function k(e,t){var n,o=arguments.length,r="constructor";return 0===o?(e=Object,t={}):1===o?(t=e||{},e=Object):(e=e||Object,t=t||{}),t[lt](r)||(t[r]=function(){}),n=t[r],delete t[r],n[it]=g(ut(e[it]),t),n[it][r]=n,n}function b(e){return e.replace(Ut,"\\$1")}function y(e,t){return new RegExp(e,t||"")}function $(e,t,n,o){var r,i,l,s,a=e.pos,c=e.length,u="",p=!!n;if(p){for(o=!!o,i=!1,s=0;c>a&&(r=e[dt](a++),t!==r||i);)l=n===r,i=!i&&l,o?(l&&s++,(!l||2&s)&&(u+=r,s=0)):u+=r;2&s&&(u+=n)}else for(;c>a&&(r=e[dt](a++),t!==r);)u+=r;return e.pos=a,u}function v(e,n,o){var r,i,l,s,a,c=!0===o?0:1;for(xt&t(n)&&(n=[n,n,n],c=0),i=e.length,a="",r=0;i>r;)l=e[dt](r),i>r+1&&"$"===l?(s=e.charCodeAt(r+1),36===s?(a+="$",r+=2):s>=48&&57>=s?(a+=n[c+s-48]||"",r+=2):(a+=l,r+=1)):(a+=l,r+=1);return a}function w(e,n,o){if(!e||(yt|Rt)&t(e))return e;var r,i=n?n.length||0:0;if(i&&n===e.substr(0,i)){var l,s,a,r,c,u=e.substr(i),p=u[dt](0),f="";for(r=u.length;r--&&(c=u[dt](r),p!==c);)"i"===c.toLowerCase()&&(f="i");return l=u.substring(1,r),s="^("+l+")",o[s]||(a=y(s,f),o[s]=a),o[s]}return e}function x(e,o,r){var i,l="";return xt&t(o)?l=o:o&&(l=Gt),i=n(e.sort(Dt),b).join("|"),[y("^("+i+")"+l,r?"i":""),1]}function _(e,n,o,r){var i=t(n);if(yt===i)return n;if(r[e])return r[e];o=o||0;var l,s=0;return n&&n.isCharList&&(s=1,m(n,"isCharList")),l=bt===i?new C(qe,e,n,bt,o):_t===i?new C(qe,e,n,_t,o):jt&i?new C(qe,e,n,Rt,o):xt&i?new C(qe,e,n,s?qt:xt,o):n,r[e]=l}function q(e,n,o,r,i,l,s){if(s[e])return s[e];var c,p,f,m,d,h,g,k=0,b=0,y=1,$=xt&t(r)?!0:!!r;if(c=a(n),f=c.length,1===f)g=_(e,w(c[0],o,l),0,s);else if(f>1){for(m=(f>>>1)+1,p=0;m>=p;p++)d=t(c[p]),h=t(c[f-1-p]),(_t!==d||_t!==h)&&(y=0),Et&d||Et&h?k=1:(Rt&d||Rt&h||u(c[p],o)||u(c[f-1-p],o))&&(b=1);if(y&&!$)c=c.slice().join(""),c.isCharList=1,g=_(e,c,0,s);else if(!$||k||b)if(k||b){for(p=0;f>p;p++)Et&t(c[p])?c[p]=q(e+"_"+p,c[p],o,r,i,l,s):c[p]=_(e+"_"+p,w(c[p],o,l),p,s);g=f>1?new C(Ee,e,c):c[0]}else{for(c=c.sort(Dt),p=0;f>p;p++)c[p]=_(e+"_"+p,w(c[p],o,l),p,s);g=f>1?new C(Ee,e,c):c[0]}else g=_(e,x(c,r,i),0,s)}return s[e]=g}function E(e,n,o,i,l){if(l[e])return l[e];var s=c(n),a=[],p=[];return r(function(n){var r,c;r=_(e+"_0_"+n,w(s[n][0],o,i),n,l),c=s[n].length>1?Rt!==r.ptype||xt!==t(s[n][1])||u(s[n][1],o)?_(e+"_1_"+n,w(s[n][1],o,i),n,l):s[n][1]:r,a.push(r),p.push(c)},0,s.length-1),l[e]=new C(Se,e,[a,p])}function S(e,t){var n=c(e.tokens.slice());r(function(e){var o=n[e][0],r=n[e].length>1?n[e][1]:n[e][0],i=n[e].length>2?n[e][2]:"";null===r?(t.line=t.line||[],t.line.push(o)):(t.block=t.block||[],t.block.push([o,r,i]))},0,n.length-1)}function O(e,t,o){var r=e.meta||t,i=!(!e.caseInsesitive&&!e.ci),l=n(a(e.tokens),function(e){return{word:e,meta:r,ci:i}});o.autocomplete=(o.autocomplete||[]).concat(l)}function R(e){e.Lex||(e.Lex={}),e.Syntax||(e.Syntax={});var n,o,r,i,s,a,c,u,p,f,d,h=e.Lex,g=e.Syntax,k=[h,g],b=k.length;for(d=0;b>d;){f=k[d++];for(r in f)f[lt](r)&&(n=r.split(":"),o=n[1]&&Ct(n[1]).length?Ct(n[1]):null,n=Ct(n[0]),n.length||(n=r,o=null),n!==r&&(f[n]=f[r],m(f,r),o&&(o=o[mt](),i=f[n],s=t(i),St===s?f[n].type||(f[n].type=o):(f[n]={type:o},"error"===o?(f[n].type="action",f[n].error=i):"nop"===o?(f[n].type="action",f[n].nop=!0):"group"===o?(f[n].type="sequence",f[n].tokens=i):"action"===o&&xt===s?f[n][i]=!0:f[n].tokens=i))),h===f&&(Ft&t(f[n])&&(f[n]={type:"simple",tokens:f[n]}),i=f[n],i.type&&(u=i.type=i.type[mt](),"line-block"===u?(i.type="block",i.multiline=!1,i.escape=!1):"escaped-line-block"===u?(i.type="block",i.multiline=!1,i.escape="\\"):"escaped-block"===u&&(i.type="block",i.multiline=!0,i.escape="\\"))))}f=h;for(n in f)if(f[lt](n))for(i=f[n];i.extend;)a=i.extend,m(i,"extend"),c=h[a],c&&(Ft&t(c)&&(c=h[a]={type:"simple",tokens:c}),i=l(c,i));f=h;for(n in f)f[lt](n)&&(i=f[n],i.type?(u=i.type=i.type[mt](),"line-block"===u?(i.type="block",i.multiline=!1,i.escape=!1):"escaped-line-block"===u?(i.type="block",i.multiline=!1,i.escape="\\"):"escaped-block"===u&&(i.type="block",i.multiline=!0,i.escape="\\")):i["escaped-line-block"]?(i.type="block",i.multiline=!1,i.escape||(i.escape="\\"),i.tokens=i["escaped-line-block"],m(i,"escaped-line-block")):i["escaped-block"]?(i.type="block",i.multiline=!0,i.escape||(i.escape="\\"),i.tokens=i["escaped-block"],m(i,"escaped-block")):i["line-block"]?(i.type="block",i.multiline=!1,i.escape=!1,i.tokens=i["line-block"],m(i,"line-block")):i.comment?(i.type="comment",i.escape=!1,i.tokens=i.comment,m(i,"comment")):i.block?(i.type="block",i.tokens=i.block,m(i,"block")):i.simple?(i.type="simple",i.tokens=i.simple,m(i,"simple")):i.nop?(i.type="action",i.action=["nop",i.nop,!1],i.nop=!0):i.error?(i.type="action",i.action=["error",i.error,!!i["in-context"]],m(i,"error")):i[lt]("context")?(i.type="action",i.action=[i.context?"context-start":"context-end",i.context,!!i["in-context"]],m(i,"context")):i.indent?(i.type="action",i.action=["indent",i.indent,!!i["in-context"]],m(i,"indent")):i.outdent?(i.type="action",i.action=["outdent",i.outdent,!!i["in-context"]],m(i,"outdent")):i.unique?(i.type="action",i.action=["unique",xt&t(i.unique)?["_DEFAULT_",i.unique]:i.unique,!!i["in-context"]],m(i,"unique")):i.push?(i.type="action",i.action=["push",i.push,!!i["in-context"]],m(i,"push")):i[lt]("pop")?(i.type="action",i.action=["pop",i.pop,!!i["in-context"]],m(i,"pop")):i.type="simple","action"===i.type?i.ci=!(!i.caseInsesitive&&!i.ci):"block"===i.type||"comment"===i.type?(i.multiline=i[lt]("multiline")?!!i.multiline:!0,xt&t(i.escape)||(i.escape=!1)):"simple"===i.type&&(i.autocomplete=!!i.autocomplete,i.meta=i.autocomplete&&xt&t(i.meta)?i.meta:null,i.combine=i[lt]("combine")?i.combine:!0,i.ci=!(!i.caseInsesitive&&!i.ci)));f=g;for(n in f)f[lt](n)&&(i=f[n],St!==t(i)||i.type?i.type&&(u=i.type=i.type[mt](),"group"===u&&i.match?(s=t(i.match),xt&s?(p=i.match[mt](),"alternation"===p||"either"===p?(i.type="alternation",m(i,"match")):"sequence"===p||"all"===p?(i.type="sequence",m(i,"match")):"zeroorone"===p?(i.type="zeroOrOne",m(i,"match")):"zeroormore"===p?(i.type="zeroOrMore",m(i,"match")):"oneormore"===p?(i.type="oneOrMore",m(i,"match")):(i.type="sequence",m(i,"match"))):Et&s&&(i.type="repeat",i.repeat=i.match,m(i,"match"))):"either"===u?i.type="alternation":"all"===u?i.type="sequence":"lookahead"===u&&(i.type="positiveLookahead")):i.ngram||i["n-gram"]?(i.type="ngram",i.tokens=i.ngram||i["n-gram"],i["n-gram"]?m(i,"n-gram"):m(i,"ngram")):i.sequence||i.all?(i.type="sequence",i.tokens=i.sequence||i.all,i.all?m(i,"all"):m(i,"sequence")):i.alternation||i.either?(i.type="alternation",i.tokens=i.alternation||i.either,i.either?m(i,"either"):m(i,"alternation")):i.zeroOrOne?(i.type="zeroOrOne",i.tokens=i.zeroOrOne,m(i,"zeroOrOne")):i.zeroOrMore?(i.type="zeroOrMore",i.tokens=i.zeroOrMore,m(i,"zeroOrMore")):i.oneOrMore?(i.type="oneOrMore",i.tokens=i.oneOrMore,m(i,"oneOrMore")):i.positiveLookahead||i.lookahead?(i.type="positiveLookahead",i.tokens=i.positiveLookahead||i.lookahead,i.lookahead?m(i,"lookahead"):m(i,"positiveLookahead")):i.negativeLookahead&&(i.type="negativeLookahead",i.tokens=i.negativeLookahead,m(i,"negativeLookahead")));return e}function A(e,n,o,r){for(var i;xt&t(i=n[e]||o[e]);)e=i;return r?e:n[e]||o[e]||e}function M(e,t){return e.length>1?r(t?function(t,n){var o=n[n.length-1],r=e[t];o===r||n.push(r)}:function(t,n){var o=n[n.length-1],r=e[t];Wt.test(r)&&Wt.test(o)&&o===r||n.push(r)},1,e.length-1,[e[0]]):e}function L(e,o,r){var l,s,a,c,u,p,f,m,d,h,g,k,v,w,x,_=!1;if(x=e.modifier?e.modifier:null,m=new String(Ct(e)),m.pos=0,1===m.length)k=""+e,o[k]||r[k]||(o[k]={type:"simple",tokens:e}),e=k;else{for(l=[],s=[],a="",v=[];m.pos<m.length;)if(d=m[dt](m.pos++),Bt.test(d))if(a.length&&(_?(s.length&&(g=s[s.length-1],k=g+"."+a,p=o[k]||r[k],p||(f=A(g,o,r),r[k]=xt&t(f)?new String(f):i(f),r[k].modifier=a),s[s.length-1]=k),_=!1):"0"===a?(o[nt]||(o[nt]={type:"simple",tokens:0}),s.push(nt)):"^^"===a?(o[Ze]||(o[Ze]={type:"simple",tokens:Re}),s.push(Ze)):"^^1"===a?(o[Je]||(o[Je]={type:"simple",tokens:Ae}),s.push(Je)):"^"===a?(o[Xe]||(o[Xe]={type:"simple",tokens:Le}),s.push(Xe)):"$"===a?(o[et]||(o[et]={type:"simple",tokens:Me}),s.push(et)):(o[a]||r[a]||(o[a]={type:"simple",tokens:a}),s.push(a)),a=""),"."===d)s.length&&m.pos<m.length&&!Bt.test(m[dt](m.pos))?_=!0:a+=d;else if('"'===d||"'"===d)c=$(m,d,"\\",!0),c.length?(k=""+c,o[k]||(o[k]={type:"simple",tokens:c}),s.push(k)):(o[ot]||(o[ot]={type:"simple",tokens:""}),s.push(ot));else if("["===d)c=$(m,"]","\\",!0),k="["+c+"]",o[k]||(o[k]={type:"simple",tokens:y("^(["+("^"===c[dt](0)?"^"+b(c.slice(1)):b(c))+"])")}),s.push(k);else{if("]"===d){a+=d;continue}if("/"===d)c=$(m,d,"\\",!0),h="",c.length&&(m.pos<m.length&&"i"===m[dt](m.pos)&&(m.pos++,h="i"),k="/"+c+"/"+h,o[k]||(o[k]={type:"simple",tokens:y("^("+c+")",h)}),s.push(k));else if("*"===d||"+"===d||"?"===d)s.length?(g=s[s.length-1],k=""+g+d,r[k]||(r[k]={type:"*"===d?"zeroOrMore":"+"===d?"oneOrMore":"zeroOrOne",tokens:[g]}),s[s.length-1]=k):a+=d;else if("{"===d)s.length?(u=$(m,"}",!1),u=n(u.split(","),Ct),u[0].length?u[0]=parseInt(u[0],10)||0:u[0]=0,0>u[0]&&(u[0]=0),2>u.length?u.push(u[0]):u[1].length?u[1]=parseInt(u[1],10)||ht:u[1]=ht,0>u[1]&&(u[1]=0),g=s[s.length-1],k=""+g+["{",u[0],",",isFinite(u[1])?u[1]:"","}"].join(""),r[k]||(r[k]={type:"repeat",repeat:[u[0],u[1]],tokens:[g]}),s[s.length-1]=k):a+=d;else{if("}"===d){a+=d;continue}"&"===d||"!"===d?a+=d:"|"===d?(_=!1,s=M(s),s.length>1?(k=""+s.join(" "),r[k]||(r[k]={type:"sequence",tokens:s}),l.push(k)):s.length?l.push(s[0]):a+=d,s=[]):"("===d?(v.push([s,l,a]),s=[],l=[],a=""):")"===d&&(s=M(s),s.length>1?(k=""+s.join(" "),r[k]||(r[k]={type:"sequence",tokens:s}),l.push(k)):s.length&&l.push(s[0]),s=[],l=M(l,1),l.length>1?(k=""+l.join(" | "),r[k]||(r[k]={type:"alternation",tokens:l})):l.length&&(k=l[0]),l=[],w=v.pop(),s=w[0],l=w[1],a=w[2],g=k,k="("+g+")",r[k]||(r[k]=i(A(g,o,r))),s.push(k))}}else a+=d;a.length&&(_?(s.length&&(g=s[s.length-1],k=g+"."+a,p=o[k]||r[k],p||(f=A(g,o,r),r[k]=xt&t(f)?new String(f):i(f),r[k].modifier=a),s[s.length-1]=k),_=!1):"0"===a?(o[nt]||(o[nt]={type:"simple",tokens:0}),s.push(nt)):"^^"===a?(o[Ze]||(o[Ze]={type:"simple",tokens:Re}),s.push(Ze)):"^^1"===a?(o[Je]||(o[Je]={type:"simple",tokens:Ae}),s.push(Je)):"^"===a?(o[Xe]||(o[Xe]={type:"simple",tokens:Le}),s.push(Xe)):"$"===a?(o[et]||(o[et]={type:"simple",tokens:Me}),s.push(et)):(o[a]||r[a]||(o[a]={type:"simple",tokens:a}),s.push(a))),a="",s=M(s),s.length>1?(k=""+s.join(" "),r[k]||(r[k]={type:"sequence",tokens:s}),l.push(k)):s.length&&l.push(s[0]),s=[],l=M(l,1),l.length>1?(k=""+l.join(" | "),r[k]||(r[k]={type:"alternation",tokens:l}),e=k):l.length&&(e=l[0]),l=[]}return x&&(o[e]||r[e])&&((o[e]||r[e]).modifier=x),e}function j(e,i,l,s,u,p,f,m,d,h,g){var k,b,y,$,v,w,x=null,_=null,R=null;if(Re===e||Ae===e||Le===e||Me===e)return new N(e,Re===e?Ze:Ae===e?$T_FBNL$:Le===e?Xe:et,e,_);if(!1===e||0===e)return new N(je,nt,0,_);if(""===e)return new N(Fe,ot,"",_);if(null===e)return new N(Te,tt,bt,_,R);if(Et&t(e)&&(y=e,e="NGRAM_"+y.join("_"),s[e]||(s[e]={type:"ngram",tokens:y})),e=""+e,m[e])return m[e];if(v=A(e,l,s),xt&t(v)&&(v=L(v,l,s),v=l[v]||s[v]||null),!v)return null;if(k=v.type?Qe[v.type[mt]().replace(It,"")]||Te:Te,_=v.msg||null,R=v.modifier||null,b=v.tokens,Te&k){if(Re===b||Ae===b||Le===b||Me===b||!1===b||0===b)return x=new N(b||je,e,b||0,_),m[e]=x,x;if(""===b)return x=new N(Fe,e,"",_),m[e]=x,x;if(null===b)return x=new N(Te,e,bt,_,R),m[e]=x,x;if(!b)return null}return Oe&k?(v[lt]("action")?"nop"===v.action[0]?v.action[0]=ge:"error"===v.action[0]?v.action[0]=ke:"context-start"===v.action[0]?v.action[0]=ye:"context-end"===v.action[0]?v.action[0]=$e:"push"===v.action[0]?v.action[0]=ve:"pop"===v.action[0]?v.action[0]=we:"unique"===v.action[0]?v.action[0]=be:"indent"===v.action[0]?v.action[0]=xe:"outdent"===v.action[0]&&(v.action[0]=_e):v[lt]("nop")?v.action=[ge,v.nop,!!v["in-context"]]:v[lt]("error")?v.action=[ke,v.error,!!v["in-context"]]:v[lt]("context")?v.action=[v.context?ye:$e,v.context,!!v["in-context"]]:v[lt]("context-start")?v.action=[ye,v["context-start"],!!v["in-context"]]:v[lt]("context-end")?v.action=[$e,v["context-end"],!!v["in-context"]]:v[lt]("push")?v.action=[ve,v.push,!!v["in-context"]]:v[lt]("pop")?v.action=[we,v.pop,!!v["in-context"]]:v[lt]("unique")?v.action=[be,xt&t(v.unique)?["_DEFAULT_",v.unique]:v.unique,!!v["in-context"]]:v[lt]("indent")?v.action=[xe,v.indent,!!v["in-context"]]:v[lt]("outdent")&&(v.action=[_e,v.outdent,!!v["in-context"]]),v.nop&&(v.action[0]=ge),x=new N(Oe,e,v.action.slice(),_,R),x.ci=!!v.caseInsensitive||v.ci,m[e]=x):(b=a(b),Te&k?(v.autocomplete&&O(v,e,g),w=v[lt]("combine")?v.combine:!0,x=new N(Te,e,q(e,b.slice(),i,w,!(!v.caseInsensitive&&!v.ci),p,f),_,R),m[e]=x):ze&k?(Ce===k&&S(v,h),x=new N(k,e,E(e,b.slice(),i,p,f),_),x.mline=v[lt]("multiline")?!!v.multiline:!0,x.esc=v[lt]("escape")?v.escape:!1,x.inter=!!u[e+".inside"],Ce===k&&v.interleave&&d.push(P(x)),R&&(x.modifier=R),m[e]=x):He&k&&(Ve===k?($=c(b),x=n($,function(t,n){return new N(Ve,e+"_NGRAM_"+n,null,_,R)}),m[e]=x,r(function(e){x[e].token=a(o($[e],function(e,t){return e.concat(j(t,i,l,s,u,p,f,m,d,h,g))},[]))},0,$.length-1)):(We===k||Ke===k?x=new N(k,e,null,_,R):Ie&k&&Et&t(v.repeat)?(x=new N(Ie,e,null,_,R),x.min=v.repeat[0],x.max=v.repeat[1]):Pe===k?(x=new N(Pe,e,null,_,R),x.min=0,x.max=1):Ue===k?(x=new N(Ue,e,null,_,R),x.min=0,x.max=ht):Be===k?(x=new N(Be,e,null,_,R),x.min=1,x.max=ht):x=De===k?new N(De,e,null,_,R):new N(Ne,e,null,_,R),m[e]=x,x.token=a(o(b,function(e,t){return e.concat(j(t,i,l,s,u,p,f,m,d,h,g))},[]))))),m[e]}function F(e,t){var n,o,r=e.Style,i=e.Lex,l=e.Syntax,s=[],a={};for(n in r)r[lt](n)&&(o=i[n]||l[n],!o||"block"!=o.type&&"comment"!==o.type||(t&&(r[n+".inside"]||r[n])?(n=r[n+".inside"]||r[n],a[lt](n)||(s.push(n),a[n]=1)):t||a[lt](n)||(s.push(n),a[n]=1)));return s}function T(e){var n={};return e.Lex=e.Lex||{},e.Syntax=e.Syntax||{},e=R(e),e.Parser&&e.Parser.length&&r(function o(i,l){var s,a,c,u=l[i];n[u]||(Et&t(u)&&(s=u,u="NGRAM_"+s.join("_"),e.Syntax[u]||(e.Syntax[u]={type:"ngram",tokens:s})),a=A(u,e.Lex,e.Syntax),xt&t(a)&&(a=L(a,e.Lex,e.Syntax),a=e.Lex[a]||e.Syntax[a]||null),a&&(n[u]=a,c=a.type?Qe[a.type[mt]().replace(It,"")]||Te:Te,He&c&&r(o,0,a.tokens.length-1,a.tokens)))},0,e.Parser.length-1,e.Parser),e}function z(e){var n,r,l,s,a,c,u,p,f,m,d,h,g;return e.__parsed?e:(n=e.RegExpID||null,l=e.Extra?i(e.Extra):{},s=e.Style?i(e.Style):{},a=null,c=e.Lex?i(e.Lex):{},u=e.Syntax?i(e.Syntax):{},p={},f={},m={},h={},g={},d=[],r=e.Parser?i(e.Parser):[],e=R({Style:s,Fold:a,Lex:c,Syntax:u,$parser:null,$interleaved:null,$comments:null,$autocomplete:null,$extra:l,__parsed:0}),e.$parser=o(r,function(e,o){var r=j(o,n,c,u,s,p,f,m,d,h,g)||null;return r&&(Et&t(r)?e=e.concat(r):e.push(r)),e},[]),e.$interleaved=d&&d.length?d:null,e.$comments=h,e.$autocomplete=g&&g.autocomplete&&g.autocomplete.length?g.autocomplete:null,e.__parsed=1,e)}function C(e,n,o,r,i){var l,s,a=this;l=a.type=e,a.name=n,a.pattern=o,s=a.ptype=r||xt,a.key=i||0,Ee===l?a.key=!1!==i:Se===l?a.pattern[0]=new C(Ee,n+"_Start",o[0],null,!1):bt===s?a.pattern=null:Rt===s&&(a.pattern=Rt&t(o)?[o,0]:[o[0],o[1]||0])}function D(e,n,o){var r,i,l,s,a,c,u,p,f,m,d,h=e,g=h.type,k=h.pattern,b=h.key;if(Se===g){if(r=h.name,l=k[0],s=k[1],c=D(l,n,o))return a=s[c[0]],p=t(a),f=l.pattern[c[0]].ptype,Rt===f&&Mt&p&&(u=yt&p?c[1][a+1]:v(a,c[1]),a=new C(qe,r+"_End",u,u.length>1?xt:_t)),a}else if(Ee===g){for(m=0,d=k.length;d>m;m++)if(u=D(k[m],n,o))return b?[m,u[1]]:u}else{if(i=h.ptype,bt===i)return!1!==o&&n.end(),[b,""];if(Rt===i){if(u=n.slice(n.pos).match(k[0]),u&&0===u.index)return!1!==o&&n.mov(u[k[1]||0].length),[b,k[1]>0?u[k[1]]:u]}else if(qt===i){if(u=n[dt](n.pos)||null,u&&-1<k.indexOf(u))return!1!==o&&n.mov(1),[b,u]}else if(_t===i){if(u=n[dt](n.pos)||null,k===u)return!1!==o&&n.mov(1),[b,u]}else if(xt===i&&(d=k.length,k===n.substr(n.pos,d)))return!1!==o&&n.mov(d),[b,k]}return!1}function N(e,t,n,o,r){var i=this;i.type=e,i.name=t,i.token=n,i.modifier=r||null,i.pos=null,i.msg=o||null,i.$msg=null,i.status=0,i.ci=!1,i.mline=!0,i.esc=!1,i.inter=!1,i.found=0,i.min=0,i.max=1,i.$id=null}function I(){var e=this;e.T=0,e.id=null,e.type=null,e.match=null,e.str="",e.pos=null,e.block=null}function P(e,t,n,o){var r=new N(e.type,e.name,e.token,e.msg,e.modifier);return r.ci=e.ci,r.mline=e.mline,r.esc=e.esc,r.inter=e.inter,r.found=e.found,r.min=e.min,r.max=e.max,t&&(r.status|=pe),n&&(r.modifier=n),o&&(r.$id=o),r}function U(e){var t=e.name;return e.$msg?e.$msg:e.status&pe?'Token "'+t+'" Expected':'Syntax Error: "'+t+'"'}function B(e,t,n,o,r,i,l){e.err[t+"_"+n+"_"+o+"_"+r+"_"+(i?i.name:"ERROR")]=[t,n,o,r,l||U(i)]}function G(e,t,n,o){if(!e)return!1;var r=e.type,i=He&r?Y:ze&r?V:Oe&r?W:K;return i(e,t,n,o)}function W(e,n,o,r){var i,l,s,a,c,u,p,f,m,d,h,g,k,b,y,$,w=e,x=w.token||null,_=w.ci,q=w.name,E=!(o.status&ce);if(w.status=0,w.$msg=null,E||!x||!r||!r.pos)return!0;if($=!!(ze&r.T),ge===x[0]||$&&!r.block)return!0;if(i=x[0],l=x[1],k=x[2],c=w.msg,u=o.queu,p=o.symb,f=o.ctx,$?(y=r.block.match||r.block.str,m=r.block.pos[0][0],d=r.block.pos[0][1],h=r.block.pos[0][2],g=r.block.pos[0][3]):(y=r.match||r.str,m=r.pos[0],d=r.pos[1],h=r.pos[2],g=r.pos[3]),ke===i)return!c&&xt&t(l)&&(c=l),w.$msg=c?v(c,y,!0):'Error "'+q+'"',B(o,m,d,h,g,w,U(w)),w.status|=fe,!1;if($e===i)f.length&&f.shift();else if(ye===i)f.unshift({symb:{},queu:[]});else if(we===i){if(k){if(!f.length)return!0;u=f[0].queu}if(l){if(l=v(l,y),_&&(l=l[mt]()),!u.length||l!==u[0][0])return u.length?(w.$msg=c?v(c,[u[0][0],l],!0):'Tokens do not match "'+u[0][0]+'","'+l+'"',b=U(w),B(o,u[0][1],u[0][2],u[0][3],u[0][4],w,b),B(o,m,d,h,g,w,b),u.shift()):(w.$msg=c?v(c,["",l],!0):'Token does not match "'+l+'"',b=U(w),B(o,m,d,h,g,w,b)),w.status|=fe,!1;u.shift()}else u.shift()}else if(ve===i&&l){if(k){if(!f.length)return!0;u=f[0].queu}l=v(l,y),_&&(l=l[mt]()),w.$msg=c?v(c,l,!0):'Token does not match "'+l+'"',u.unshift([l,m,d,h,g,U(w)])}else if(be===i){if(k){if(!f.length)return!0;p=f[0].symb}if(s=l[1],a=l[0],s=v(s,y,!0),_&&(s=s[mt]()),p[lt](a)||(p[a]={}),p[a][lt](s))return w.$msg=c?v(c,s,!0):'Duplicate "'+s+'"',b=U(w),B(o,p[a][s][0],p[a][s][1],p[a][s][2],p[a][s][3],w,b),B(o,m,d,h,g,w,b),w.status|=fe,!1;p[a][s]=[m,d,h,g]}return!0}function K(e,t,n,o){var r=e,i=r.token,l=r.modifier,s=r.type,a=r.name,c=n.line,u=t.pos,p=null,f=!1;return r.status&=de,r.$msg=r.msg||null,Re===s?f=0===n.line:Ae===s?f=n.bline+1===n.line:Le===s?f=t.sol():Me===s?(t.spc(),t.eol()?f=a:t.bck(u)):je===s?(r.status=0,f=!0):Fe===s?(r.status&pe&&t.spc()&&!t.eol()?(t.bck(u),r.status|=fe):f=!0,r.status&=me):bt===i?(t.end(),f=l||a):(p=D(i,t))&&(p=p[1],f=l||a),!1!==f&&(o.T=s,o.id=a,o.type=f,o.str=t.sel(u,t.pos),o.match=p,o.pos=[c,u,c,t.pos]),!f&&r.status&&r.$msg&&(r.$msg=v(r.$msg,a,!0)),f}function V(e,t,n,o){var r,i,l,s,a,c,u,f,m,d,h,g,k,b,y,$,w,x,_,q,E=e,S=E.name,O=E.type,R=E.modifier,A=E.token,M=E.mline,L=E.inter,j=L?S+".inside":S,F=E.esc,T=!!F,z="",C="",N="",I="",U=E.$id||S,B=n.stack;if(E.status&=de,E.$msg=E.msg||null,_=n.line,q=t.pos,Ce===O&&(E.status&=me),y=E.status&pe,l=0,s=0,n.block&&n.block.name===S?(s=1,l=1,b=j,r=n.block.end,f=n.block.sp,d=n.block.ip,m=n.block.ep,z=n.block.s,C=n.block.i):!n.block&&(r=D(A,t))&&(s=1,b=S,$=t.pos,f=[_,q],d=[[_,$],[_,$]],m=[_,$],z=t.sel(q,$),C="",I="",n.block={name:S,end:r,sp:f,ip:d,ep:m,s:z,i:C,e:I}),s){if(x=B.length,i=bt===r.type,L){if(i&&l&&t.sol())return E.status&=me,n.block=null,!1;if(!l)return $=t.pos,o.T=O,o.id=S,o.type=R||b,o.str=t.sel(q,$),o.match=null,o.pos=[_,q,_,$],p(B,x,P(E,y,0,U)),R||b}if($=t.pos,a=D(r,t),u=M,c=0,a)b=i?j:S,I=t.sel($,t.pos);else for(w=t.pos,g=!1;!t.eol();){if($=t.pos,!g&&D(r,t)){L&&t.pos>$&&$>w?(b=j,t.bck($),c=1):(b=S,a=1),I=t.sel($,t.pos);break}k=t.nxt(1),N+=k,g=T&&!g&&F===k,$=t.pos}return u=M||T&&g,C+=N,d[1]=[_,$],m=[_,t.pos],a||!u&&!c?n.block=null:(n.block.ip=d,n.block.ep=m,n.block.i=C,n.block.e=I,p(B,x,P(E,y,0,U))),o.T=O,o.id=S,o.type=R||b,o.str=t.sel(q,t.pos),o.match=null,o.pos=[_,q,m[0],m[1]],n.block||(h=z+C+I,o.block={str:h,match:[h,C,z,I],part:[h,z,C,I],pos:[[f[0],f[1],m[0],m[1]],[f[0],f[1],d[0][0],d[0][1]],[d[0][0],d[0][1],d[1][0],d[1][1]],[d[1][0],d[1][1],m[0],m[1]]]}),R||b}return E.status&&E.$msg&&(E.$msg=v(E.$msg,S,!0)),!1}function Y(e,t,n,o){var r,i,l,s,a,c,u,f,m,h,g,k,b,y,$,v=e,w=v.type,x=(v.name,v.token),_=x.length,q=v.modifier;if(v.status&=de,v.$msg=v.msg||null,k=n.stack,f=t.pos,m=k.length,c=0,u=0,y=v.$id||d(),De===w){for(v.status|=pe,b=[],h=0;_>h;h++){if(r=P(x[h],1,q,y),i=G(r,t,n,o),r.status&pe&&(c++,b.push(U(r))),!1!==i)return i;r.status&fe&&(u++,t.pos>f&&t.bck(f),k.length>m&&(k.length=m))}return c>0?v.status|=pe:v.status&=me,_===u&&c>0?v.status|=fe:v.status&=de,v.status&&!v.$msg&&b.length&&(v.$msg=b.join(" | ")),!1}if(Ye&w){$=!!(w&Ne),$?v.status|=pe:v.status&=me,g=0;do r=P(x[g++],$,q,y),i=G(r,t,n,o);while(_>g&&!1===i&&!(r.status&he));if(!1!==i){if(!0!==i||je!==r.type)for(h=_-1;h>=g;h--)p(k,m+_-h-1,P(x[h],1,q,y));return i}return r.status&fe?($?v.status|=fe:v.status&=de,t.pos>f&&t.bck(f),k.length>m&&(k.length=m)):$&&r.status&pe&&(v.status|=fe),v.status&&!v.$msg&&(v.$msg=U(r)),!1}if(We===w)return v.status=0,!1;if(Ke===w)return v.status=0,!1;for(l=v.found,s=v.min,a=v.max,v.status&=me,b=[],h=0;_>h;h++){if(r=P(x[h],1,q,y),i=G(r,t,n,o),!1!==i){if(++l,a>=l)return v.found=l,p(k,m,P(v,0,0,y)),v.found=0,i;break}r.status&pe&&(c++,b.push(U(r))),r.status&fe&&(t.pos>f&&t.bck(f),k.length>m&&(k.length=m))}return s>l?v.status|=pe:v.status&=me,l>a||s>l&&c>0?v.status|=fe:v.status&=de,v.status&&!v.$msg&&b.length&&(v.$msg=b.join(" | ")),!1}function H(e,t){var n=this;n.id=e?h("state"):"state",t instanceof H?(n.line=t.line,n.bline=t.bline,n.status=t.status,n.stack=t.stack.slice(),n.block=t.block,n.status&ce?(n.queu=t.queu,n.symb=t.symb,n.ctx=t.ctx,n.err=t.err):(n.queu=null,n.symb=null,n.ctx=null,n.err=null),n.$eol$=t.$eol$,n.$blank$=t.$blank$):(n.line=-1,n.bline=-1,n.status=t||0,n.stack=[],n.block=null,n.status&ce?(n.queu=[],n.symb={},n.ctx=[],n.err={}):(n.queu=null,n.symb=null,n.ctx=null,n.err=null),n.$eol$=!0,n.$blank$=!0),n.toString=function(){return n.id+"_"+n.line+"_"+n.bline+"_"+(n.block?n.block.name:"0")}}function Q(e){e.id=null,e.line=null,e.bline=null,e.status=null,e.stack=null,e.block=null,e.queu=null,e.symb=null,e.ctx=null,e.err=null}function Z(e,t,n){var o=new String(e);return o.start=t||0,o.pos=n||0,o.sol=function(){return 0===o.pos},o.eol=function(){return o.pos>=o.length},o.end=function(){return o.pos=o.length,o},o.mov=function(e){return o.pos=0>e?pt(0,o.pos+e):ft(o.length,o.pos+e),o},o.bck=function(e){return o.pos=pt(0,e),o},o.sft=function(){return o.start=o.pos,o},o.nxt=function(e,t){var n,r,i="";if(!0===e){for(t=t||Z.$NONSPC$;o.pos<o.length&&t.test(n=o[dt](o.pos++));)i+=n;return i.length?i:null}for(e=e||1,r=0;r++<e&&o.pos<o.length;)i+=o[dt](o.pos++);return i},o.cur=function(e){var t=o.slice(o.start,o.pos);return e&&(o.start=o.pos),t},o.sel=function(e,t){return o.slice(e,t)},o.spc=function(e,t){var n;return(n=o.slice(o.pos).match(t||Z.$SPC$))?(!1!==e&&o.mov(n[0].length),n[0]):void 0},o}function J(e,t,n,o,r){var i,l,s;for(null==t&&(t=e.search(Z.$NONSPC$),-1==t&&(t=e.length)),i=o||0,l=r||0;;){if(s=e.indexOf("	",i),0>s||s>=t)return l+(t-i);l+=s-i,l+=n-l%n,i=s+1}}function X(e,o){return Lt&t(e)&&(e=y("\\b("+n(a(e).sort(Dt),b).join("|")+")\\b")),!1===o?function(t){return!t||!e.test(t)}:function(t){return!!t&&e.test(t)}}function ee(e,t,n,o,r,i){for(;;){n.lastIndex=e.col;var l=n.exec(e.text);if(!l){if(e.next()){e.text=e.line(e.row);continue}return}{if(t(e.token(e.row,l.index+1)))return e.col=l.index+l[0].length,l;e.col=l.index+1}}}function te(e,t,n,o,r,i){for(var l,s,a;;){if(l=e.text.indexOf(r,e.col),-1===l){if(e.next()){e.text=e.line(e.row);continue}return}if(t(e.token(e.row,l+1)))return s=e.text.lastIndexOf(i,l),a=s>-1&&!Z.$NOTEMPTY$.test(e.text.slice(s+1,l)),e.col=l+1,a?"autoclosed":"regular";e.col=l+1}}function ne(e){var t=e?e.data:null;t&&t.load&&t.ace_worker_base&&(importScripts(t.ace_worker_base),ace.define("ace/grammar_worker",["require","exports","module","ace/worker/mirror"],function(e,t,n){var o=e("./worker/mirror").Mirror;t.AceGrammarWorker=k(o,{constructor:function(e){var t=this;o.call(t,e),t.setTimeout(300)},$parser:null,init_parser:function(e,t){var n=this;n.$parser=new en(z(e),null,!1),n.sender.callback(1,t)},onUpdate:function(){var e,t,n,o,r,i=this,l=i.sender,s=i.$parser;if(!s)return void l.emit("ace_grammar_worker_ok",null);if(e=i.doc.getValue(),!e||!e.length)return void l.emit("ace_grammar_worker_ok",null);if(t=s.parse(e,ce),!t)return void l.emit("ace_grammar_worker_ok",null);r=[];for(n in t)t[lt](n)&&(o=t[n],r.push({row:o[0],column:o[1],text:o[4]||"Syntax Error",type:"error",raw:o[4]||"Syntax Error",range:[o[0],o[1],o[2],o[3]]}));r.length?l.emit("ace_grammar_worker_error",r):l.emit("ace_grammar_worker_ok",null)}})}))}function oe(e,t){e[t]||(e[t]=[]);var n,o=e[t];if(o&&o.length)for(n=0;n<o.length;n++)e.removeMarker(o[n]);o.length=0}function re(e,t,n,o){var r,i,l,s=t.length;for(oe(e,n),l=e[n],r=0;s>r;r++)i=t[r],i.range&&(l.push(e.addMarker(new o(i.range[0],i.range[1],i.range[2],i.range[3]),"ace_error-marker","text",0)),m(i,"range"))}function ie(e,t){oe(e,t),e.clearAnnotations()}function le(e,t,n,o){re(e,t,n,o),e.setAnnotations(t)}function se(e,t,n){n=n||Xt;var o=i(e),r=n.require("ace/range").Range,l=n.require("ace/worker/worker_client").WorkerClient,s=k(l,{constructor:function(e,t,o,r){var i=this,l=n.require,s=n.config;if(i.$sendDeltaQueue=i.$sendDeltaQueue.bind(i),i.changeListener=i.changeListener.bind(i),i.onMessage=i.onMessage.bind(i),l.nameToUrl&&!l.toUrl&&(l.toUrl=l.nameToUrl),!r)if(s.get("packaged")||!l.toUrl)r=r||s.moduleUrl(t,"worker");else{var a=i.$normalizePath;r=r||a(l.toUrl("ace/worker/worker.js",null,"_"));var c={};e.forEach(function(e){c[e]=a(l.toUrl(e,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}try{i.$worker=new Worker(r)}catch(u){if(!(u instanceof window.DOMException))throw u;var p=i.$workerBlob(r),f=window.URL||window.webkitURL,m=f.createObjectURL(p);i.$worker=new Worker(m),f.revokeObjectURL(m)}i.$worker.postMessage({load:!0,ace_worker_base:Zt.base+"/"+s.moduleUrl("ace/worker/json")+Jt}),i.$worker.postMessage({init:!0,tlns:c,module:t,classname:o}),i.callbackId=1,i.callbacks={},i.$worker.onmessage=i.onMessage}}),a=n.require("ace/mode/folding/fold_mode").FoldMode,c=k(a,{constructor:function(e){var t=this;a.call(t),t.$findFold=e,t.$lastFold=null},getFoldWidget:function(e,t,n){var o=this.$lastFold=this.$findFold(e,t,n);return o?"markbeginend"===t&&o.end?"end":"start":""},getFoldWidgetRange:function(e,t,n,o){var i=this.$lastFold;return i?new r(i[0],i[1],i[2],i[3]):void 0}}),u=n.require("ace/mode/text").Mode,p=k(u,{constructor:function f(){var e=this;u.call(e),e.$id=f.$id,e.$tokenizer=f.$parser,e.lineCommentStart=f.$parser.LC,e.blockComment=f.$parser.BC,e.foldingRules=new c(e.folder.bind(e))},supportGrammarAnnotations:!1,createWorker:function(e){if(!this.supportGrammarAnnotations)return ie(e,p.$markers),null;var t=new s(["ace"],"ace/grammar_worker","AceGrammarWorker",Zt.file+Jt);return t.attachToDocument(e.getDocument()),t.call("init_parser",[o],function(){t.on("ace_grammar_worker_error",function(t){var n=t.data;le(e,n,p.$markers,r)}),t.on("ace_grammar_worker_ok",function(){ie(e,p.$markers)})}),t.on("terminate",function(){ie(e,p.$markers)}),t},supportCodeFolding:!0,folder:function m(e,t,n){return this.supportCodeFolding?p.$folder(e,t,n,m.options||{}):null},supportAutoCompletion:!0,autocompleter:function d(e,t,n,o){return this.supportAutoCompletion?p.$autocompleter(e,t,n,o,d.options||{}):[]},getKeywords:function(e){return[]},getCompletions:function(e,t,n,o){return this.autocompleter(e,t,n,o)},dispose:function(){var e=this;e.$tokenizer=e.foldingRules=e.autocompleter=null,p.dispose()}});return p.$id=h("ace_grammar_mode"),p.$markers=p.$id+"$markers",p.$parser=new tn.Parser(z(e),t),p.$folder=function g(e,t,o,r){
var i,l,g=p.$parser,s=g.fold(e,o,n);if("markbeginend"===t){if(s)return s.start=!0,s.end=!1,s;for(l=o,i=pt(0,o-200);o>i&&(!s||l!==s[2]);)s=g.fold(e,--o,n);if(s&&l===s[2])return s.start=!1,s.end=!0,s}else if(s)return s.start=!0,s.end=!1,s},p.$autocompleter=function(e,t,o,r,i){return p.$parser.autocomplete(e,t,o,r,i,n)},p.dispose=function(){p.$parser&&p.$parser.dispose(),p.$parser=p.$folder=p.$autocompleter=p.autocompleter=null},new p}var ae=1,ce=2,ue=32,pe=4,fe=8,me=~pe,de=~fe,he=pe|fe,ge=0,ke=4,be=8,ye=16,$e=17,ve=32,we=33,xe=128,_e=129,qe=2,Ee=4,Se=8,Oe=4,Re=8,Ae=9,Me=16,Le=32,je=128,Fe=256,Te=512,ze=1024,Ce=1025,De=2048,Ne=4096,Ie=8192,Pe=8193,Ue=8194,Be=8195,Ge=16384,We=Ge,Ke=16385,Ve=32768,Ye=Ne|Ve,He=De|Ne|Ie|Ge|Ve,Qe={action:Oe,simple:Te,block:ze,comment:Ce,alternation:De,sequence:Ne,repeat:Ie,zeroorone:Pe,zeroormore:Ue,oneormore:Be,positivelookahead:We,negativelookahead:Ke,ngram:Ve},Ze="$|SOF|$",Je="$|NONBLANK|$",Xe="$|SOL|$",et="$|EOL|$",tt="$|ENDLINE|$",nt="$|EMPTY|$",ot="$|NONSPACE|$",rt=void 0,it="prototype",lt="hasOwnProperty",st="propertyIsEnumerable",at=Object[it],ct=at.toString,ut=Object.create,pt=Math.max,ft=Math.min,mt="toLowerCase",dt="charAt",ht=1/0,gt=4,kt=8,bt=16,yt=32,$t=33,vt=34,wt=64,xt=128,_t=129,qt=130,Et=256,St=512,Ot=1024,Rt=2048,At=4096,Mt=xt|yt,Lt=xt|Et,jt=Rt|Et,Ft=xt|Et|Rt,Tt={"[object Number]":yt,"[object String]":xt,"[object Array]":Et,"[object RegExp]":Rt,"[object Date]":At,"[object Function]":Ot,"[object Object]":St},zt=/^\s+|\s+$/g,Ct=String[it].trim?function(e){return e.trim()}:function(e){return e.replace(zt,"")},Dt=function(e,t){return t.length-e.length},Nt=/\r\n|\r|\n/g,It=/[\-_]/g,Pt=0,Ut=/([.*+?^${}()|[\]\/\\\-])/g,Bt=/^([.!&\[\]{}()*+?\/|'"]|\s)/,Gt="(\\s|\\W|$)",Wt=/[*+]$/;Z.$SPC$=/^[\s\u00a0]+/,Z.$NONSPC$=/[^\s\u00a0]/,Z.$NOTEMPTY$=/\S/,Z.$SPACE$=/^\s*/;var Kt=k({constructor:function(e,t,n){var o=this;o.$grammar=e,o.$DEF=t||null,o.$ERR=n||null,o.DEF=o.$DEF,o.ERR=o.$ERR,o.$folders=[]},$grammar:null,$folders:null,$n$:"name",$t$:"type",$v$:"token",$DEF:null,$ERR:null,DEF:null,ERR:null,dispose:function(){var e=this;return e.$grammar=null,e.$folders=null,e.$n$=e.$t$=e.$v$=null,e.$DEF=e.$ERR=e.DEF=e.ERR=null,e},token:function(e,t){var n,o,r,i,l,s,a,c,u,p,m,d,h,g,k,b=this,y=b.$grammar,$=y.Style,v=b.DEF,w=b.ERR,x={},_=b.$n$,q=b.$t$,E=b.$v$,S=y.$interleaved,O=y.$parser,R=O.length,A=S?S.length:0;if(e.sol()&&(t.$eol$&&(t.$blank$&&(t.bline=t.line),t.$eol$=!1,t.line++),t.$blank$=t.bline+1===t.line),t.$actionerr$=!1,i=t.stack,l=t.line,s=e.pos,m=!1,h=!0,d=!1,g=!1,k=t.block?t.block.name:rt,i.length&&Me===i[i.length-1].type&&e.sol()&&i.pop(),(!i.length||Fe!==i[i.length-1].type&&k!==i[i.length-1].name)&&e.spc()&&(h=!1,g=!0),x[_]=null,x[q]=v,x[E]=null,h)for(r=new I,a=0;h&&(i.length||R>a)&&!e.eol();){if(u=e.pos,p=i.length,A&&!t.block){for(c=0;A>c;c++)if(n=S[c],m=G(n,e,t,r),!1!==m){h=!1;break}if(!h)break}if(!i.length&&a>=R)break;if(n=i.length?i.pop():O[a++],m=G(n,e,t,r),!1===m){if(n.status&he){f(i,n.$id),e.nxt(!0)||(e.spc(),g=!0),d=!0,h=!1;break}}else{if(i.length&&Oe===i[i.length-1].type)for(;i.length&&Oe===i[i.length-1].type;)o=i.pop(),W(o,e,t,r),o.status&fe&&(t.$actionerr$=!0);else if(i.length>1&&e.eol()&&ze&i[i.length-1].type&&t.block&&t.block.name===i[i.length-1].name)for(c=i.length-2;c>=0&&Oe===i[c].type;)o=i[c--],W(o,e,t,r),o.status&fe&&(t.$actionerr$=!0);if(!0!==m){h=!1;break}}}return h&&e.nxt(1),x[E]=e.cur(1),!1!==m?(m=$[m]||v,x[_]=n.name):d?(m=w,t.status&ce&&B(t,l,s,l,e.pos,n)):m=v,x[q]=m,t.$eol$=e.eol(),t.$blank$=t.$blank$&&(g||t.$eol$),x},tokenize:function(e,t,n){var o=this,r=[];if(e.eol())t.line++,t.$blank$&&t.bline++;else for(;!e.eol();)r.push(o.token(e,t));return r},parse:function(e,t){var n,o,i,l,s,a=this,c=(e||"").split(Nt),u=c.length,p=null;if(t=t||ae,o=!!(t&ce),i=!!(t&ae),n=new H(0,t),n.$full_parse$=!0,r(function(e){c[e]+="\n"},0,u-2),i?p=r(t&ue?function(e,t){t._=t._.concat(a.tokenize(Z(c[e]),n,e))}:function(e,t){t._.push(a.tokenize(Z(c[e]),n,e))},0,u-1,{_:[]})._:r(function(e){var t=Z(c[e]);if(t.eol())n.line++,n.$blank$&&n.bline++;else for(;!t.eol();)a.token(t,n)},0,u-1),o&&n.queu&&n.queu.length)for(;n.queu.length;)l=n.queu.shift(),B(n,l[1],l[2],l[3],l[4],null,l[5]);return s=i&&o?{tokens:p,errors:n.err}:i?p:n.err,Q(n),s},iterator:function(){},validate:function(){},autocomplete:function(){},indent:function(){},fold:function(){}}),Vt={Pattern:function(e,t,n){return function(){}},Indented:function(e){return e=e||Z.$NOTEMPTY$,function(t){var n,o,r,i,l,s,a,c,u,p=t.row;if(n=t.line(p),e.test(n)){for(o=t.indentation(n),s=null,l=n.length,c=p+1,u=t.last();u>=c;++c)if(r=t.line(c),i=t.indentation(r),i>o)s=c,a=r.length;else if(e.test(r))break;return s?[p,l,s,a]:void 0}}},Delimited:function(e,t,n){return e&&t?(n=n||s,function(o){var r,i,l,s,a,c,u,p,f,m,d,h,g,k,b,y=o.row,$=o.col;for(r=o.line(y),l=$,s=0;;){var a=0>=l?-1:r.lastIndexOf(e,l-1);if(-1!==a){if(1===s&&$>a)return;if(n(c=o.token(y,a+1))){i=a+e.length;break}l=a-1}else{if(1===s)return;s=1,l=r.length}}u=1,p=o.last();e:for(d=y;p>=d;++d)for(h=o.line(d),g=d===y?i:0;k=h.indexOf(e,g),b=h.indexOf(t,g),0>k&&(k=h.length),0>b&&(b=h.length),g=ft(k,b),!(g>=h.length);){if(o.token(d,g+1)==c)if(g===k)++u;else if(!--u){f=d,m=g;break e}++g}return null==f||y===f&&m===i?void 0:[y,i,f,m]}):function(){}},MarkedUp:function(e,t,n,o,r){return e=e||s,t=t||"<",n=n||">",o=o||"/",r=r||y(b(t)+"("+b(o)+"?)([a-zA-Z_\\-][a-zA-Z0-9_\\-:]*)","g"),function(i){i.col=0,i.min=i.first(),i.max=i.last(),i.text=i.line(i.row);for(var l,s,a,c,u,p,f,m,d,h=i.row;;){if(l=ee(i,e,r,t,n,o),!l||i.row!==h||!(s=te(i,e,r,t,n,o)))return;if(!l[1]&&"autoclosed"!==s)for(a=[i.row,i.col],u=l[2],c=null,p=[];;){if(f=ee(i,e,r,t,n,o),h=i.row,m=i.col-(f?f[0].length:0),!f||!(s=te(i,e,r,t,n,o)))return;if("autoclosed"!==s)if(f[1]){for(d=p.length-1;d>=0;--d)if(p[d]===f[2]){p.length=d;break}if(0>d&&(!u||u===f[2]))return[a[0],a[1],h,m]}else p.push(f[2])}}}}},Yt=!("undefined"==typeof global||"[object global]"!==ct.call(global)),Ht=!(Yt||"undefined"==typeof navigator),Qt=!!(Ht&&"function"==typeof importScripts&&navigator instanceof WorkerNavigator),Zt=function(e,t,n){var o,r=null,i=null,l=null;return e?(r=__filename,i=__dirname,l=__dirname):n?(r=self.location.href,i=r.split("/").slice(0,-1).join("/")):t&&(l=document.location.href.split("#")[0].split("?")[0].split("/").slice(0,-1).join("/"),(o=document.getElementsByTagName("script"))&&o.length&&(r=o[o.length-1].src,i=r.split("/").slice(0,-1).join("/"))),{path:i,file:r,base:l}}(Yt,Ht,Qt),Jt="?nocache="+h("nonce")+"_"+~~(1e3*Math.random()),Xt="undefined"!=typeof ace?ace:{require:function(){return{}},config:{}},en=k(Kt,{constructor:function nn(e,n,o){var i,l=this,a=null;if(Kt.call(l,e,"text","invalid"),l.$v$="value",l.DEF=n||l.$DEF,l.ERR=e.Style.error||l.$ERR,l.LC=e.$comments.line||null,l.BC=e.$comments.block?{start:e.$comments.block[0][0],end:e.$comments.block[0][1]}:null,!1!==o){if(e.$comments.block&&e.$comments.block.length){i=nn.Type("comment");for(var c=0,u=e.$comments.block.length;u>c;c++)l.$folders.push(nn.Fold.Delimited(e.$comments.block[c][0],e.$comments.block[c][1],i))}e.Fold&&xt&t(e.Fold)?a=e.Fold[mt]():e.$extra.fold&&(a=e.$extra.fold[mt]()),a&&(a=a.split("+"),r(function(t,n){var o=Ct(n[t]);if("brace"===o||"cstyle"===o){var r=F(e,1);i=r.length?nn.Type(r,!1):s,l.$folders.push(nn.Fold.Delimited("{","}",i)),l.$folders.push(nn.Fold.Delimited("[","]",i))}else"indent"===o||"indentation"===o?l.$folders.push(nn.Fold.Indented()):("markup"===o||"html"===o||"xml"===o)&&(l.$folders.push(nn.Fold.Delimited("<![CDATA[","]]>",nn.Type(["comment","tag"],!1))),l.$folders.push(nn.Fold.MarkedUp(nn.Type("tag"),"<",">","/")))},0,a.length-1,a))}},LC:null,BC:null,dispose:function(){var e=this;return e.LC=e.BC=null,Kt[it].dispose.call(e)},getLineTokens:function(e,t,n){var o=this;return t=new H(1,t),{tokens:o.tokenize(Z(e),t,n),state:t}},autocomplete:function(e,t,n,r,i,l){var s=this;if(s.$grammar.$autocomplete&&r.length){i=i||{};var a=i[lt]("caseInsesitiveMatch")?!!i.caseInsesitiveMatch:!1,c=i[lt]("prefixMatch")?!!i.prefixMatch:!0,u=r,p=u[mt](),f=u.length;return o(s.$grammar.$autocomplete,function(e,t){var n,o,r,i,l,s,m,d=t.word,h=d.length;return h>=f&&(n=t.meta,o=!!d.ci,m=a||o,m?(l=d[mt](),s=p):(l=d,s=u),(i=l.indexOf(s))>=0&&(!c||0===i)&&(r=m?d.indexOf(u):i,e.push({name:d,value:d,meta:n,score:1e3-10*(h-f)-5*(0>r?i+3:r)}))),e},[])}return[]},iterator:function(e,t){var n=e.getTabSize();return{row:0,col:0,min:0,max:0,line:function(t){return e.getLine(t)},first:function(){return 0},last:function(){return e.getLength()-1},next:function(){var e=this;if(!(e.row>=e.max))return e.col=0,e.row++,!0},prev:function(){var e=this;if(!(e.row<=e.min))return e.col=0,e.row--,!0},indentation:function(e){return J(e,null,n)},token:function(t,n){return e.getTokenAt(t,n).type}}},fold:function(e,t,n){var o,r,i,l=this,s=l.$folders,a=s.length;if(a)for(r=l.iterator(e,n),r.row=t,r.col=0,o=0;a>o;o++)if(i=s[o](r))return i}});en.Type=X,en.Fold=Vt,Qt&&(onmessage=ne);var tn=e.AceGrammar={VERSION:"2.6.1",clone:i,extend:l,pre_process:T,parse:z,getMode:se,Parser:en};return e.AceGrammar});var red_grammar={RegExpID:"RE::",Extra:{fold:"indent"},Lex:{comment:{type:"comment",interleave:!0,tokens:[[";",null],["comment {","}"]]},"lit-word":"RE::/'[a-z_\\-][a-z0-9_\\-]*/i",path:"RE::/%[a-z!$%&*\\/:<=>?\\^_~][0-9a-z!$%&*\\/:<=>?\\^_~+\\-.@]*/i",identifier:"RE::/[a-z!$%&*\\/:<=>?\\^_~][0-9a-z!$%&*\\/:<=>?\\^_~+\\-.@]*/i",peculiar_identifier:"RE::/\\.\\.\\.|\\+|-/","string-multiline":{type:"escaped-block",escape:"\\",tokens:[["{","}"]]},string:{type:"escaped-block",escape:"\\",tokens:[['"']]},number:["RE::\b(?:[0-9]{1,10}x){1}[0-9]{1,10}\b"],keyword:{autocomplete:!0,combine:"(\\s|\\/|\\(|\\)|\\[|\\])",tokens:["Red","rebol","false","true","/local","action!","binary!","bitset!","block!","char!","error!","event!","file!","float!","function!","get-path!","get-word!","hash!","image!","integer!","issue!","lit-path!","lit-word!","logic!","map!","native!","none!","object!","op!","pair!","paren!","path!","percent!","point!","refinement!","routine!","set-path!","set-word!","string!","tuple!","typeset!","unset!","url!","vector!","word!","/","-","%","*","**","+","//","<","<<","<=","<>","=","==","=?",">",">=",">>",">>>","and","or","xor","a-an","about","absolute","acos","action?","add","all","and~","any","any-block?","any-function?","any-object?","any-path?","any-string?","any-word?","append","arccosine","arcsine","arctangent","arctangent2","as-pair","asin","ask","at","atan","atan2","attempt","back","binary?","bind","bitset?","block?","body-of","break","case","catch","cause-error","char?","charset","clear","comment","complement","complement?","complete-from-path","compose","construct","context","continue","copy","cos","cosine","datatype?","debase","default-input-completer","dehex","difference","dir?","divide","do","do-events","does","draw","either","empty?","equal?","error?","eval-set-path","even?","exclude","exit","exp","extend","extract-keywords","fifth","file?","find","first","float?","forall","foreach","forever","form","fourth","func","function","function?","get","get-current-dir","get-path?","get-word?","greater-or-equal?","greater?","halt","has","hash?","head","head?","help","if","image?","in","index?","input","insert","integer?","intersect","issue?","keys-of","last","last-lf?","length?","lesser-or-equal?","lesser?","lit-path?","lit-word?","load","log-10","log-2","log-e","logic?","loop","lowercase","make","make-face","map?","max","min","modify","modulo","mold","multiply","NaN?","native?","negate","negative?","next","none?","not","not-equal?","object","object?","odd?","on-parse-event","op?","or~","pad","pair?","paren?","parse","parse-trace","path?","percent?","pick","poke","positive?","power","prin","print","probe","put","q","quit","quit-return","quote","random","read","read-decode","reduce","refinement?","reflect","remainder","remove","repeat","replace","request-file","reset-cursor","return","reverse","round","routine?","same?","second","select","series?","set","set-path?","set-word?","shift","shift-left","shift-logical","shift-right","show","sin","sine","skip","sort","source","spec-of","square-root","stats","strict-equal?","string?","subtract","suffix?","swap","switch","tail","tail?","take","tan","tangent","third","throw","to","to-hex","to-local-file","to-red-file","trim","try","tuple?","type?","typeset?","union","unique","unless","unset?","until","unview","uppercase","url?","value?","values-of","vector?","view","what","what-dir","while","word?","words-of","write","xor~","zero?","_read-input","_set-buffer-history","ahead","end","none","opt","thru","into","fail","then","reject","collect","keep"]}},Style:{comment:"comment","lit-word":"string",path:"string",keyword:"keyword",identifier:"variable",peculiar_identifier:"variable",number:"number","boolean":"builtin","string-multiline":"string",string:"string"},Syntax:{token:"lit-word | path | number | string-multiline | string | keyword | identifier | peculiar_identifier"},Parser:["comment",["token"]]};_editor="editor",code=document.getElementById("txt_code").value;var Editor=ace.require("ace/editor").Editor,editor=ace.edit(_editor);session=editor.getSession(),editor.setTheme("ace/theme/github"),theme.onchange=function(){editor.setTheme(this.value)},btn_foldAll.onclick=function(){ace.edit("editor").getSession().foldAll()},btn_unfoldAll.onclick=function(){ace.edit("editor").getSession().unfold()},editor.setOptions({fontFamily:"consolas, monaco, monospace;",fontSize:"13pt"});var mode=AceGrammar.getMode(red_grammar);mode.supportGrammarAnnotations=!0,mode.supportAutoCompletion=!0,mode.autocompleter.options={prefixMatch:!0,caseInsensitiveMatch:!1},mode.supportCodeFolding=!0,ace.config.defineOptions(Editor.prototype,"editor",{onlyKeywordsAutoComplete:{set:function(e){this.getOption("enableBasicAutocompletion")&&(e?(this._completers=this._completers||this.completers.slice(),this.completers=[this.completers[2]]):this._completers&&(this.completers=this._completers,this._completers=null))},value:!1}}),ace.config.loadModule("ace/ext/language_tools",function(){editor.setOptions({enableBasicAutocompletion:!0,enableLiveAutocompletion:!0}),editor.setOptions({onlyKeywordsAutoComplete:!0}),editor.setValue(code,-1),session.setMode(mode),session.setFoldStyle("markbeginend"),UseSoftTabs.onchange=function(){session.setUseSoftTabs(this.checked)},UseSoftTabs.checked=!0,ShowInvisibles.onchange=function(){editor.setShowInvisibles(this.checked)},editor.setHighlightSelectedWord(!0),editor.commands.bindKey("Ctrl-Right","startAutocomplete")});var red_grammar={RegExpID:"RE::",Extra:{fold:"indent"},Lex:{comment:{type:"comment",interleave:!0,tokens:[[";",null],["comment {","}"]]},"lit-word":"RE::/'[a-z_\\-][a-z0-9_\\-]*/i",path:"RE::/%[a-z!$%&*\\/:<=>?\\^_~][0-9a-z!$%&*\\/:<=>?\\^_~+\\-.@]*/i",identifier:"RE::/[a-z!$%&*\\/:<=>?\\^_~][0-9a-z!$%&*\\/:<=>?\\^_~+\\-.@]*/i",peculiar_identifier:"RE::/\\.\\.\\.|\\+|-/","string-multiline":{type:"escaped-block",escape:"\\",tokens:[["{","}"]]},string:{type:"escaped-block",escape:"\\",tokens:[['"']]},number:["RE::\b(?:[0-9]{1,10}x){1}[0-9]{1,10}\b"],keyword:{autocomplete:!0,combine:"(\\s|\\/|\\(|\\)|\\[|\\])",tokens:["Red","rebol","false","true","/local","action!","binary!","bitset!","block!","char!","error!","event!","file!","float!","function!","get-path!","get-word!","hash!","image!","integer!","issue!","lit-path!","lit-word!","logic!","map!","native!","none!","object!","op!","pair!","paren!","path!","percent!","point!","refinement!","routine!","set-path!","set-word!","string!","tuple!","typeset!","unset!","url!","vector!","word!","/","-","%","*","**","+","//","<","<<","<=","<>","=","==","=?",">",">=",">>",">>>","and","or","xor","a-an","about","absolute","acos","action?","add","all","and~","any","any-block?","any-function?","any-object?","any-path?","any-string?","any-word?","append","arccosine","arcsine","arctangent","arctangent2","as-pair","asin","ask","at","atan","atan2","attempt","back","binary?","bind","bitset?","block?","body-of","break","case","catch","cause-error","char?","charset","clear","comment","complement","complement?","complete-from-path","compose","construct","context","continue","copy","cos","cosine","datatype?","debase","default-input-completer","dehex","difference","dir?","divide","do","do-events","does","draw","either","empty?","equal?","error?","eval-set-path","even?","exclude","exit","exp","extend","extract-keywords","fifth","file?","find","first","float?","forall","foreach","forever","form","fourth","func","function","function?","get","get-current-dir","get-path?","get-word?","greater-or-equal?","greater?","halt","has","hash?","head","head?","help","if","image?","in","index?","input","insert","integer?","intersect","issue?","keys-of","last","last-lf?","length?","lesser-or-equal?","lesser?","lit-path?","lit-word?","load","log-10","log-2","log-e","logic?","loop","lowercase","make","make-face","map?","max","min","modify","modulo","mold","multiply","NaN?","native?","negate","negative?","next","none?","not","not-equal?","object","object?","odd?","on-parse-event","op?","or~","pad","pair?","paren?","parse","parse-trace","path?","percent?","pick","poke","positive?","power","prin","print","probe","put","q","quit","quit-return","quote","random","read","read-decode","reduce","refinement?","reflect","remainder","remove","repeat","replace","request-file","reset-cursor","return","reverse","round","routine?","same?","second","select","series?","set","set-path?","set-word?","shift","shift-left","shift-logical","shift-right","show","sin","sine","skip","sort","source","spec-of","square-root","stats","strict-equal?","string?","subtract","suffix?","swap","switch","tail","tail?","take","tan","tangent","third","throw","to","to-hex","to-local-file","to-red-file","trim","try","tuple?","type?","typeset?","union","unique","unless","unset?","until","unview","uppercase","url?","value?","values-of","vector?","view","what","what-dir","while","word?","words-of","write","xor~","zero?","_read-input","_set-buffer-history","ahead","end","none","opt","thru","into","fail","then","reject","collect","keep"]}},Style:{comment:"comment","lit-word":"string",path:"string",keyword:"keyword",identifier:"variable",peculiar_identifier:"variable",number:"number","boolean":"builtin","string-multiline":"string",string:"string"},Syntax:{token:"lit-word | path | number | string-multiline | string | keyword | identifier | peculiar_identifier"},Parser:["comment",["token"]]};_editor="editor",code=document.getElementById("txt_code").value;var Editor=ace.require("ace/editor").Editor,editor=ace.edit(_editor);session=editor.getSession(),editor.setTheme("ace/theme/github"),theme.onchange=function(){editor.setTheme(this.value)},btn_foldAll.onclick=function(){ace.edit("editor").getSession().foldAll()},btn_unfoldAll.onclick=function(){ace.edit("editor").getSession().unfold()},editor.setOptions({fontFamily:"consolas, monaco, monospace;",fontSize:"13pt"});var mode=AceGrammar.getMode(red_grammar);mode.supportGrammarAnnotations=!0,mode.supportAutoCompletion=!0,mode.autocompleter.options={prefixMatch:!0,caseInsensitiveMatch:!1},mode.supportCodeFolding=!0,ace.config.defineOptions(Editor.prototype,"editor",{onlyKeywordsAutoComplete:{set:function(e){this.getOption("enableBasicAutocompletion")&&(e?(this._completers=this._completers||this.completers.slice(),this.completers=[this.completers[2]]):this._completers&&(this.completers=this._completers,this._completers=null))},value:!1}}),ace.config.loadModule("ace/ext/language_tools",function(){editor.setOptions({enableBasicAutocompletion:!0,enableLiveAutocompletion:!0}),editor.setOptions({onlyKeywordsAutoComplete:!0}),editor.setValue(code,-1),session.setMode(mode),session.setFoldStyle("markbeginend"),UseSoftTabs.onchange=function(){session.setUseSoftTabs(this.checked)},UseSoftTabs.checked=!0,ShowInvisibles.onchange=function(){editor.setShowInvisibles(this.checked)},editor.setHighlightSelectedWord(!0),editor.commands.bindKey("Ctrl-Right","startAutocomplete")});